{"version":3,"file":"vue.js","sources":["../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["// vue的数据 data computed watch...\nexport function initState (vm) {\n  // 将所有数据都定义在vm属性上，并且后续更改，需要触发视图更新\n  const opts = vm.$options // 获取用户属性\n\n  if (opts.props) {}\n\n  if (opts.methods) {}\n\n  // 数据的初始化\n  if (opts.data) {\n    initData(vm)\n  }\n\n  if (opts.computed) {}\n  if (opts.watch) {}\n\n}\n\nfunction initData (vm) {\n  // 数据劫持 Object.defineProperty\n  let data = vm.$options.data\n\n  // 对data类型进行判断 如果是函数 获取函数返回值作为对象\n  data = typeof data === 'function' ? data.call(vm) : data\n\n  // 观测这个数据\n  observe(data)\n  \n}","import { initState } from \"./state\"\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this\n    vm.$options = options // 实例上有个属性$options 表示的是用户传入的所有属性\n\n    // 初始化状态\n    initState(vm)\n    // initLifeCycle()\n  }\n}","import { initMixin } from \"./init\"\n\n/**\n * Vue2中就是一个构造函数，不用class的原因是，用构造函数在原型扩展，用class即便也可以，但貌似违反了类的语法规范\n */\nfunction Vue (options) {\n  this._init(options) // 当调用new Vue时，就调用_init方法进行vue的初始化\n}\n\n// 可以拆分逻辑到不同的文件中，更利于代码维护，模块化的概念\n\n// Vue是通过原型的方式，给Vue扩展功能\ninitMixin(Vue)\n\nexport default Vue"],"names":["initState","vm","opts","$options","props","methods","data","initData","computed","watch","call","observe","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;EAAA;EACO,SAASA,SAAT,CAAoBC,EAApB,EAAwB;EAC7B;EACA,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB,CAF6B;;EAI7B,MAAID,IAAI,CAACE,KAAT,EAAgB;;EAEhB,MAAIF,IAAI,CAACG,OAAT,EAAkB,CANW;;;EAS7B,MAAIH,IAAI,CAACI,IAAT,EAAe;EACbC,IAAAA,QAAQ,CAACN,EAAD,CAAR;EACD;;EAED,MAAIC,IAAI,CAACM,QAAT,EAAmB;;EACnB,MAAIN,IAAI,CAACO,KAAT,EAAgB;EAEjB;;EAED,SAASF,QAAT,CAAmBN,EAAnB,EAAuB;EACrB;EACA,MAAIK,IAAI,GAAGL,EAAE,CAACE,QAAH,CAAYG,IAAvB,CAFqB;;EAKrBA,EAAAA,IAAI,GAAG,OAAOA,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAACI,IAAL,CAAUT,EAAV,CAA7B,GAA6CK,IAApD,CALqB;;EAQrBK,EAAAA,OAAO,CAACL,IAAD,CAAP;EAED;;EC3BM,SAASM,SAAT,CAAmBC,GAAnB,EAAwB;EAC7BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACvC,QAAMf,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAca,OAAd,CAFuC;EAIvC;;EACAhB,IAAAA,SAAS,CAACC,EAAD,CAAT,CALuC;EAOxC,GAPD;EAQD;;ECTD;EACA;EACA;;EACA,SAASY,GAAT,CAAcG,OAAd,EAAuB;EACrB,OAAKD,KAAL,CAAWC,OAAX,EADqB;;EAEtB;EAID;;;EACAJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}